</br>

<%= form_with(local: true, url: reset_password_url, method: :post) do |form| %>
  <% if !flash[:error].nil? %>
    <!-- existing password error -->
    <% is_existing_error = flash[:error].include? 'existing' %>

    <!-- new password error -->
    <% is_new_error = flash[:error].include? 'specifications'%>
  <% end %>

  <div class="field">
    <% if is_existing_error %>
        <div class="field_with_errors">
    <% end %>

    <%= form.label "Existing Password" %>

    <% if is_existing_error %>
        </div>
        <div class="field_with_errors">
    <% end %>

    <%= form.password_field :existing_password %>

    <% if is_existing_error %>
        </div>
    <% end %>
  </div>

  <div class="field">
    <% if is_new_error %>
        <div class="field_with_errors">
    <% end %>

    <%= form.label 'New Password' %>

    <% if is_new_error %>
        </div>
        <div class="field_with_errors">
    <% end %>

    <%= form.password_field :password %>

    <% if is_new_error %>
        </div>
    <% end %>
  </div>

  <div class="field">
    <% if is_new_error %>
        <div class="field_with_errors">
    <% end %>

    <%= form.label 'New Password Confirmation' %>

    <% if is_new_error %>
        </div>
        <div class="field_with_errors">
    <% end %>

    <%= form.password_field :password_confirmation %>

    <% if is_new_error %>
        </div>
    <% end %>
  </div>

  <div class="actions">
    <%= form.submit "Submit" %>
  </div>
<% end %>

<br/>
<p><%= link_to 'Back', :back %></p>